<!doctype html>

<html>
<head>
	<title>WebReg Pro by Yellow Fellows</title>	
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css">
  
  <!-- this is a comment in HTML -->

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
      <![endif]-->   
      <script src="/js/firebase.js"></script>  
      <script src="https://code.jquery.com/jquery.js"></script>
      <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
      <script src="/js/knockout.js"></script>
      <script src="/js/socket.io/dist/socket.io.js"></script>
      <script src="http://code.highcharts.com/highcharts.js"></script>

    </head>
<body class="container" id="container">

<div class="page-header">
  <h1>Rage Reducr <small>helping you give a ****</small></h1>
</div>

<div data-bind="foreach:messages">
  <div class="alert"  data-bind="text : message, css : {'alert-success' : score > 0, 'alert-info' : score ==0, 'alert-danger' : score < -4}">
  </div>
</div>
</body>

<script>
$(document).ready(function(){
  var fb = new Firebase('https://flickering-fire-2908.firebaseio.com/');

  if(fb) {
    console.log('connected to database');
  }

  fb.on('child_added', function(data) {
    var word = data.val().word;
    console.log(data.val().word);
    viewModel.messages.push(word);
  });

  var viewModel = {
    messages : ko.observableArray()
  };

$.get("/messages").done(function(data){
  data.forEach(function(e){
    viewModel.messages.push(e);
  })
});

ko.applyBindings(viewModel, document.getElementById("container"));
});
</script>


</html>
